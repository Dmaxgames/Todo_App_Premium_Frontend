<div class="min-h-screen bg-slate-950 text-slate-50 relative overflow-hidden">
  <!-- Grille / “sol” -->
  <div class="pointer-events-none absolute inset-0 opacity-40">
    <div
      class="absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(16,185,129,0.12),_transparent_60%)]"
    ></div>
    <div
      class="absolute inset-0 bg-[linear-gradient(to_bottom,_rgba(15,23,42,0)_0%,_rgba(15,23,42,1)_85%)]"
    ></div>
    <div
      class="absolute inset-x-0 bottom-0 h-1/2 bg-[linear-gradient(rgba(15,23,42,0.9),rgba(15,23,42,0.9))]"
    ></div>
    <div
      class="absolute inset-x-0 bottom-0 h-1/2 bg-[linear-gradient(rgba(30,64,175,0.18)_1px,transparent_1px)] bg-[length:100%_40px]"
    ></div>
    <div
      class="absolute inset-x-0 bottom-0 h-1/2 bg-[linear-gradient(to_right,rgba(30,64,175,0.18)_1px,transparent_1px)] bg-[length:40px_100%]"
    ></div>
  </div>

  <div class="relative z-10 h-full w-full px-6 py-6">
    <!-- Top bar résumé -->
    <div class="flex items-center justify-between mb-6 gap-4">
      <div>
        <p class="text-xs uppercase tracking-[0.35em] text-emerald-400/70">
          Espace de travail
        </p>
        <h1 class="text-2xl font-semibold">
          Tableau de bord <span class="text-emerald-400">Todo Premium</span>
        </h1>
      </div>

      <!-- Petit résumé utilisateur -->
      <div
        class="flex items-center gap-3 rounded-2xl border border-emerald-500/40 bg-slate-900/70 px-4 py-2 shadow-lg shadow-emerald-500/20"
      >
        <div
          class="h-10 w-10 rounded-2xl bg-gradient-to-br from-emerald-400 to-cyan-400 flex items-center justify-center text-slate-950 font-semibold"
        >
          {{ user.avatarInitials }}
        </div>
        <div class="leading-tight">
          <p class="text-sm font-medium">{{ user.name }}</p>
          <p class="text-xs text-emerald-300/80">{{ user.role }}</p>
        </div>
      </div>
    </div>

    <!-- Layout 3 colonnes -->
    <div class="grid grid-cols-[280px_minmax(0,1.2fr)_320px] gap-6">
      <!-- Colonne gauche : panneaux / “polygones” -->
      <div class="space-y-4">
        <div
          class="rounded-3xl border border-emerald-500/30 bg-slate-950/80 px-4 py-4 shadow-lg shadow-emerald-500/30"
        >
          <p class="text-xs uppercase tracking-[0.25em] text-emerald-300/80 mb-2">
            Vue rapide
          </p>

          <div class="space-y-3">
            <div class="flex justify-between text-xs text-slate-400">
              <span>Tâches totales</span>
              <span class="text-emerald-400 font-semibold">
                {{ stats.totalTasks }}
              </span>
            </div>
            <div class="flex justify-between text-xs text-slate-400">
              <span>Tâches terminées</span>
              <span class="text-emerald-400 font-semibold">
                {{ stats.doneTasks }}
              </span>
            </div>
            <div class="flex justify-between text-xs text-slate-400">
              <span>Pour aujourd’hui</span>
              <span class="text-emerald-400 font-semibold">
                {{ stats.todayTasks }}
              </span>
            </div>
            <div class="mt-4">
              <p class="text-[11px] mb-1 text-slate-400">Indice de focus</p>
              <div
                class="h-2 w-full rounded-full bg-slate-800 overflow-hidden border border-emerald-500/40"
              >
                <div
                  class="h-full rounded-full bg-gradient-to-r from-emerald-400 via-cyan-400 to-purple-500"
                  [style.width.%]="stats.focusScore"
                ></div>
              </div>
              <p class="mt-1 text-[11px] text-slate-400">
                {{ stats.focusScore }}% de ton énergie dirigée vers les bonnes tâches.
              </p>
            </div>
          </div>
        </div>

        <!-- Panneaux latéraux (Mes tâches / Équipe / Projets) -->
        <div class="space-y-3">
          <div
            *ngFor="let panel of panels"
            class="relative overflow-hidden rounded-3xl bg-slate-900/80 border border-slate-700/70 px-4 py-4 shadow-md shadow-black/40"
          >
            <div
              class="absolute inset-0 opacity-60 bg-gradient-to-br"
              [ngClass]="panel.accent"
            ></div>
            <div
              class="absolute -right-6 -top-6 h-24 w-24 rounded-3xl border border-emerald-400/30 bg-slate-900/60 rotate-12"
            ></div>

            <div class="relative">
              <p class="text-[11px] uppercase tracking-[0.25em] text-emerald-200/80 mb-1">
                {{ panel.label }}
              </p>
              <p class="text-2xl font-semibold">
                {{ panel.value }}
                <span class="text-xs font-normal text-emerald-100/80 ml-1">
                  {{ panel.subtitle }}
                </span>
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Colonne centrale : “polygone” principal -->
      <div class="flex items-stretch justify-center">
        <div
          class="relative w-full max-w-xl aspect-square rounded-[3rem] bg-slate-900/80 border border-slate-700/70 shadow-[0_0_40px_rgba(16,185,129,0.35)] flex items-center justify-center overflow-hidden"
        >
          <!-- Anneaux concentriques -->
          <div
            class="absolute inset-8 rounded-[2.5rem] border border-emerald-500/30"
          ></div>
          <div
            class="absolute inset-16 rounded-[2rem] border border-emerald-500/20"
          ></div>
          <div
            class="absolute inset-24 rounded-[1.5rem] border border-emerald-500/10"
          ></div>

          <!-- Noyau -->
          <div
            class="relative z-10 flex flex-col items-center text-center px-8"
          >
            <div
              class="mb-4 inline-flex items-center justify-center rounded-2xl bg-slate-900/90 border border-emerald-400/40 px-3 py-1 text-[11px] uppercase tracking-[0.25em] text-emerald-300/90"
            >
              MODE GX-PREMIUM
            </div>

            <h2 class="text-xl font-semibold mb-1">
              Bonjour, <span class="text-emerald-400">{{ user.name }}</span>
            </h2>
            <p class="text-sm text-slate-400 mb-4 max-w-md">
              Tu peux visualiser en un clin d’œil
              <span class="text-emerald-300">tes tâches</span>,
              <span class="text-emerald-300">ton équipe</span> et
              <span class="text-emerald-300">tes priorités</span> du moment.
            </p>

            <!-- Anneau “énergie” -->
            <div class="mt-3">
              <p class="text-xs text-slate-400 mb-1">Énergie dirigée</p>
              <div class="flex items-end gap-4">
                <div
                  class="h-16 w-16 rounded-full border border-emerald-500/60 flex items-center justify-center bg-slate-950/80"
                >
                  <span class="text-lg font-semibold text-emerald-300">
                    {{ stats.focusScore }}%
                  </span>
                </div>
                <p class="text-[11px] text-slate-400 max-w-xs text-left">
                  Plus tu avances dans tes tâches importantes, plus cet
                  indicateur se remplit.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Colonne droite : “flux” / suggestions -->
      <div
        class="rounded-3xl border border-slate-700/70 bg-slate-900/80 px-4 py-4 shadow-lg shadow-black/40 flex flex-col gap-4"
      >
        <div class="flex items-center justify-between">
          <div>
            <p class="text-[11px] uppercase tracking-[0.25em] text-emerald-300/80">
              Flux d’activité
            </p>
            <p class="text-sm text-slate-400">
              Sprints, focus et points d’équipe à venir.
            </p>
          </div>
        </div>

        <div class="space-y-3 mt-2">
          <div
            *ngFor="let s of streams"
            class="rounded-2xl border border-slate-700 bg-slate-950/80 px-3 py-3 hover:border-emerald-400/70 hover:shadow-[0_0_24px_rgba(16,185,129,0.35)] transition"
          >
            <div class="flex items-center justify-between gap-2 mb-1">
              <p class="text-sm font-medium">{{ s.title }}</p>
              <span
                class="text-[10px] uppercase tracking-[0.18em] bg-emerald-500/10 border border-emerald-400/40 text-emerald-300 rounded-full px-2 py-[2px]"
                >{{ s.tag }}</span
              >
            </div>
            <p class="text-[11px] text-slate-400">
              {{ s.description }}
            </p>
          </div>
        </div>

        <div class="mt-auto pt-2 border-t border-slate-800 flex items-center justify-between text-[11px] text-slate-500">
          <span>Interface inspirée GX-Control</span>
          <span class="text-emerald-400/90">Todo Premium · ADN-KC</span>
        </div>
      </div>
    </div>
  </div>
</div>
